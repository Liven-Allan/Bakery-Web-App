{"ast":null,"code":"var _jsxFileName = \"/home/liven/Desktop/Vianny_Bakery/Vianny_Project/bakery-app/src/productionModal/AddProductionModal.js\",\n  _s = $RefreshSig$();\n// src/production_layout/productionModal/AddProductionModal.js\n\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport axios from 'axios';\nimport './AddProductionModal.css'; // Ensure this path is correct\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root'); // For accessibility\n\nconst AddProductionModal = ({\n  isOpen,\n  onRequestClose\n}) => {\n  _s();\n  const [productName, setProductName] = useState('');\n  const [rawMaterials, setRawMaterials] = useState([]);\n  const [selectedMaterials, setSelectedMaterials] = useState([]);\n  const [isProductEntered, setIsProductEntered] = useState(false);\n  useEffect(() => {\n    // Fetch raw materials\n    axios.get('/api/inventory/').then(response => {\n      setRawMaterials(response.data);\n    }).catch(error => {\n      console.error('There was an error fetching raw materials!', error);\n    });\n  }, []);\n  const handleProductEnter = () => {\n    setIsProductEntered(true);\n  };\n  const handleAddProduction = () => {\n    // Implement the logic to record production\n    console.log('Product:', productName);\n    console.log('Selected Materials:', selectedMaterials);\n\n    // Example POST request, adapt as needed\n    axios.post('/api/production/records/', {\n      product: productName,\n      raw_materials: selectedMaterials\n    }).then(() => {\n      onRequestClose(); // Close the modal on success\n    }).catch(error => {\n      console.error('There was an error adding the production record!', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onRequestClose: onRequestClose,\n    contentLabel: \"Add Production\",\n    className: \"modal\",\n    overlayClassName: \"overlay\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add Production\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [!isProductEntered ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Production Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: productName,\n            onChange: e => setProductName(e.target.value),\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                handleProductEnter();\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleProductEnter,\n          children: \"Enter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"production-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Product:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {/* Logic to open raw materials selection */},\n            children: \"Select Raw Materials\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleAddProduction,\n            children: \"Record Production\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"cancel-button\",\n        onClick: onRequestClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(AddProductionModal, \"5i78VG1Ye1w4ZWpjvf+v+wwds48=\");\n_c = AddProductionModal;\nexport default AddProductionModal;\nvar _c;\n$RefreshReg$(_c, \"AddProductionModal\");","map":{"version":3,"names":["React","useState","useEffect","Modal","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","setAppElement","AddProductionModal","isOpen","onRequestClose","_s","productName","setProductName","rawMaterials","setRawMaterials","selectedMaterials","setSelectedMaterials","isProductEntered","setIsProductEntered","get","then","response","data","catch","error","console","handleProductEnter","handleAddProduction","log","post","product","raw_materials","contentLabel","className","overlayClassName","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","onKeyDown","key","onClick","_c","$RefreshReg$"],"sources":["/home/liven/Desktop/Vianny_Bakery/Vianny_Project/bakery-app/src/productionModal/AddProductionModal.js"],"sourcesContent":["// src/production_layout/productionModal/AddProductionModal.js\n\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport axios from 'axios';\nimport './AddProductionModal.css'; // Ensure this path is correct\n\nModal.setAppElement('#root'); // For accessibility\n\nconst AddProductionModal = ({ isOpen, onRequestClose }) => {\n  const [productName, setProductName] = useState('');\n  const [rawMaterials, setRawMaterials] = useState([]);\n  const [selectedMaterials, setSelectedMaterials] = useState([]);\n  const [isProductEntered, setIsProductEntered] = useState(false);\n\n  useEffect(() => {\n    // Fetch raw materials\n    axios.get('/api/inventory/')\n      .then(response => {\n        setRawMaterials(response.data);\n      })\n      .catch(error => {\n        console.error('There was an error fetching raw materials!', error);\n      });\n  }, []);\n\n  const handleProductEnter = () => {\n    setIsProductEntered(true);\n  };\n\n  const handleAddProduction = () => {\n    // Implement the logic to record production\n    console.log('Product:', productName);\n    console.log('Selected Materials:', selectedMaterials);\n\n    // Example POST request, adapt as needed\n    axios.post('/api/production/records/', { product: productName, raw_materials: selectedMaterials })\n      .then(() => {\n        onRequestClose(); // Close the modal on success\n      })\n      .catch(error => {\n        console.error('There was an error adding the production record!', error);\n      });\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}\n      contentLabel=\"Add Production\"\n      className=\"modal\"\n      overlayClassName=\"overlay\"\n    >\n      <div className=\"modal-header\">\n        <h2>Add Production</h2>\n      </div>\n      <form>\n        {!isProductEntered ? (\n          <>\n            <label>\n              Production Name:\n              <input\n                type=\"text\"\n                value={productName}\n                onChange={(e) => setProductName(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    handleProductEnter();\n                  }\n                }}\n              />\n            </label>\n            <button type=\"button\" onClick={handleProductEnter}>Enter</button>\n          </>\n        ) : (\n          <div className=\"production-details\">\n            <div className=\"product-container\">\n              <h3>Product:</h3>\n              <p>{productName}</p>\n            </div>\n            <div className=\"actions-container\">\n              <button type=\"button\" onClick={() => {/* Logic to open raw materials selection */}}>\n                Select Raw Materials\n              </button>\n              <button type=\"button\" onClick={handleAddProduction}>\n                Record Production\n              </button>\n            </div>\n          </div>\n        )}\n        <button type=\"button\" className=\"cancel-button\" onClick={onRequestClose}>Close</button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default AddProductionModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}