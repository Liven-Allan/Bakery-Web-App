{"ast":null,"code":"// src/TransactionModal.js\nimport React,{useState,useEffect}from'react';import Modal from'react-modal';import{getItemTransactions}from'../layout/inventoryService';import'./TransactionModal.css';// Create a CSS file for modal styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement('#root');// For accessibility\nconst TransactionModal=_ref=>{let{isOpen,onRequestClose,itemId}=_ref;const[transactions,setTransactions]=useState([]);const[inventory,setInventory]=useState({});useEffect(()=>{if(itemId){getItemTransactions(itemId).then(data=>{setInventory(data.inventory);setTransactions(data.transactions);}).catch(error=>console.error('Error fetching transactions:',error));}},[itemId,isOpen]);return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onRequestClose:onRequestClose,contentLabel:\"Item Transactions\",className:\"modal\",overlayClassName:\"overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Transaction Details\"})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reorder Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Cost\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:inventory.name}),/*#__PURE__*/_jsx(\"td\",{children:inventory.reorder_level}),/*#__PURE__*/_jsxs(\"td\",{children:[\"shs:\",(inventory.reorder_level*parseFloat(inventory.unit_price)).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(transaction.transaction_date).toLocaleDateString()})]},transaction.id))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close-button\",onClick:onRequestClose,children:\"Close\"})]});};export default TransactionModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","getItemTransactions","jsx","_jsx","jsxs","_jsxs","setAppElement","TransactionModal","_ref","isOpen","onRequestClose","itemId","transactions","setTransactions","inventory","setInventory","then","data","catch","error","console","contentLabel","className","overlayClassName","children","map","transaction","name","reorder_level","parseFloat","unit_price","toFixed","Date","transaction_date","toLocaleDateString","id","type","onClick"],"sources":["/home/liven/Desktop/Vianny_Bakery/Vianny_Project/bakery-app/src/modal/TransactionModal.js"],"sourcesContent":["// src/TransactionModal.js\n\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport { getItemTransactions } from '../layout/inventoryService';\nimport './TransactionModal.css'; // Create a CSS file for modal styling\n\nModal.setAppElement('#root'); // For accessibility\n\nconst TransactionModal = ({ isOpen, onRequestClose, itemId }) => {\n  const [transactions, setTransactions] = useState([]);\n  const [inventory, setInventory] = useState({});\n\n  useEffect(() => {\n    if (itemId) {\n      getItemTransactions(itemId)\n        .then(data => {\n          setInventory(data.inventory);\n          setTransactions(data.transactions);\n        })\n        .catch(error => console.error('Error fetching transactions:', error));\n    }\n  }, [itemId, isOpen]);\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}\n      contentLabel=\"Item Transactions\"\n      className=\"modal\"\n      overlayClassName=\"overlay\"\n    >\n      <div className=\"modal-header\">\n        <h2>Transaction Details</h2>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>Product Name</th>\n            <th>Reorder Level</th>\n            <th>Total Cost</th>\n            <th>Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transactions.map(transaction => (\n            <tr key={transaction.id}>\n              <td>{inventory.name}</td>\n              <td>{inventory.reorder_level}</td>\n              <td>shs:{(inventory.reorder_level * parseFloat(inventory.unit_price)).toFixed(2)}</td>\n              <td>{new Date(transaction.transaction_date).toLocaleDateString()}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <button type=\"button\" className=\"close-button\" onClick={onRequestClose}>Close</button>\n    </Modal>\n  );\n};\n\nexport default TransactionModal;\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,OAASC,mBAAmB,KAAQ,4BAA4B,CAChE,MAAO,wBAAwB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjCL,KAAK,CAACM,aAAa,CAAC,OAAO,CAAC,CAAE;AAE9B,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAwC,IAAvC,CAAEC,MAAM,CAAEC,cAAc,CAAEC,MAAO,CAAC,CAAAH,IAAA,CAC1D,KAAM,CAACI,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACd,GAAIY,MAAM,CAAE,CACVV,mBAAmB,CAACU,MAAM,CAAC,CACxBK,IAAI,CAACC,IAAI,EAAI,CACZF,YAAY,CAACE,IAAI,CAACH,SAAS,CAAC,CAC5BD,eAAe,CAACI,IAAI,CAACL,YAAY,CAAC,CACpC,CAAC,CAAC,CACDM,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CACzE,CACF,CAAC,CAAE,CAACR,MAAM,CAAEF,MAAM,CAAC,CAAC,CAEpB,mBACEJ,KAAA,CAACL,KAAK,EACJS,MAAM,CAAEA,MAAO,CACfC,cAAc,CAAEA,cAAe,CAC/BW,YAAY,CAAC,mBAAmB,CAChCC,SAAS,CAAC,OAAO,CACjBC,gBAAgB,CAAC,SAAS,CAAAC,QAAA,eAE1BrB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAE,QAAA,cAC3BrB,IAAA,OAAAqB,QAAA,CAAI,qBAAmB,CAAI,CAAC,CACzB,CAAC,cACNnB,KAAA,UAAAmB,QAAA,eACErB,IAAA,UAAAqB,QAAA,cACEnB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrB,IAAA,OAAAqB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBrB,IAAA,OAAAqB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBrB,IAAA,OAAAqB,QAAA,CAAI,MAAI,CAAI,CAAC,EACX,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAqB,QAAA,CACGZ,YAAY,CAACa,GAAG,CAACC,WAAW,eAC3BrB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAKV,SAAS,CAACa,IAAI,CAAK,CAAC,cACzBxB,IAAA,OAAAqB,QAAA,CAAKV,SAAS,CAACc,aAAa,CAAK,CAAC,cAClCvB,KAAA,OAAAmB,QAAA,EAAI,MAAI,CAAC,CAACV,SAAS,CAACc,aAAa,CAAGC,UAAU,CAACf,SAAS,CAACgB,UAAU,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cACtF5B,IAAA,OAAAqB,QAAA,CAAK,GAAI,CAAAQ,IAAI,CAACN,WAAW,CAACO,gBAAgB,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,GAJ/DR,WAAW,CAACS,EAKjB,CACL,CAAC,CACG,CAAC,EACH,CAAC,cACRhC,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACd,SAAS,CAAC,cAAc,CAACe,OAAO,CAAE3B,cAAe,CAAAc,QAAA,CAAC,OAAK,CAAQ,CAAC,EACjF,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAjB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}